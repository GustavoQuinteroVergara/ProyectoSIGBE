<app-navbar></app-navbar>

<ng-template #entrevistaPostu>
<div class="container-fluid">
  <div class="row">
    <div class="col-12 col-sm-6 col-lg-3">
      <a (click)="descargarPDFEntrevista()" mat-stroked-button><img src="assets/imgs/icopdf.png" alt="icopdf" width="40px">Descargar como PDF</a>
    </div>
    <div class="col">
      <mat-horizontal-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="primerpaso">
          <ng-template matStepLabel>Info. basica</ng-template>
          <h1>Información basica</h1>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Nombre completo del estudiante:
                <strong>{{entrevistaPostuFound.nombrepostulante}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Plan de estudio del postulante:
                <strong>{{entrevistaPostuFound.codigocarrerapostulante}}</strong>
                <hr>
              </div>           
            </div>  
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Codigo estudiante registrado:
                <strong>{{entrevistaPostuFound.codigopostulante}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Fecha de nacimiento postulante:
                <strong>{{entrevistaPostuFound.fechanacimientopostulante}}</strong>
                <hr>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Lugar de nacimiento del postulante:
                <strong>{{entrevistaPostuFound.lugarnacimiento}}</strong>
                <hr>
              </div>    
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Numero de documento de identidad del postulante:
                <strong>{{entrevistaPostuFound.cedulapostulante}}</strong>
                <hr>
              </div> 
            </div> 
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Fecha de expedición del documento de identidad del postulante:
                <strong>{{entrevistaPostuFound.expedicioncedula}}</strong>
                <hr>
              </div>  
              <div class="col-12 col-sm-12 col-lg-3">
                <hr>
                Estado civil postulante:
                <strong>{{entrevistaPostuFound.estadocivil}}</strong>
                <hr>
              </div>  
              <div class="col-12 col-sm-12 col-lg-3">
                <hr>
                Cantidad de hijos del postulante:
                <strong>{{entrevistaPostuFound.numerohijos}}</strong>
                <hr>
              </div>                            
            </div>

          </div>
        <div class="col-12 col-sm-12 col-lg-6">
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </mat-step>
        <mat-step [stepControl]="segundopaso">
          <ng-template matStepLabel>Info. Basica</ng-template>
          <h1>Información basica</h1>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Ciudad del postulante
                <strong>{{entrevistaPostuFound.municipioprocedencia}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Dirección del postulante
                <strong>{{entrevistaPostuFound.direccion}}</strong>
                <hr>                
              </div>              
            </div>
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Barrio del postulante
                <strong>{{entrevistaPostuFound.barrio}}</strong>
                <hr>                   
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Telefono del postulante
                <strong>{{entrevistaPostuFound.telefono}}</strong>
                <hr>                 
              </div>              
            </div>
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Dirección Cali del postulante
                <strong>{{entrevistaPostuFound.direccioncali}}</strong>
                <hr>                 
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Barrio Cali del postulante
                <strong>{{entrevistaPostuFound.barriocali}}</strong>
                <hr>                 
              </div>              
            </div>
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Telefono Cali del postulante
                <strong>{{entrevistaPostuFound.telefonocali}}</strong>
                <hr>                 
              </div>
              <div class="col-12 col-sm-12 col-lg-6">
                <hr>
                Con quien reside el postulante
                <strong>{{entrevistaPostuFound.residencia}}</strong>
                <hr>                   
              </div>              
            </div>                                               
          </div>
      <div class="col-12 col-sm-6 col-lg-3">
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </mat-step>
        <mat-step [stepControl]="tercerpaso">
          <ng-template matStepLabel>Ingresos</ng-template>
          <h1>Fuentes de ingreso</h1>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-12">
                <hr>
                Fuentes de ingreso:
                <div *ngFor="let entrevistafuente of entrevistaPostuFound[1][0];" class="alert alert-secondary">
                  {{entrevistafuente.tiponecesidad}} : <strong> {{entrevistafuente.nombreayuda}} </strong>
                </div>
                <hr>
              </div>            
            </div>
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-12">
                <hr>
                ¿Trabaja?
                <strong *ngIf="entrevistaPostuFound.trabaja == 'si'">SI</strong>
                <strong *ngIf="entrevistaPostuFound.trabaja == 'no'">NO</strong>
                <hr>
              </div>  
              <div class="col-12 col-sm-12 col-lg-12" *ngIf="entrevistaPostuFound.trabaja == 'si'">
                <hr>
                Info trabajo
                <div class="row">
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Cargo trabajo
                    <strong>{{entrevistaPostuFound.cargotrabajador}}</strong>
                  </div>
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Nombre empresa
                    <strong>{{entrevistaPostuFound.nombreempresa}}</strong>                
                  </div>
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Antiguedad
                    <strong>{{entrevistaPostuFound.antiguedad}}</strong>                  
                  </div>
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Ciudad empresa
                    <strong>{{entrevistaPostuFound.ciudadempresa}}</strong>                  
                  </div>
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Direccion empresa
                    <strong>{{entrevistaPostuFound.direccionempresa}}</strong>                  
                  </div>       
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Telefono
                    <strong>{{entrevistaPostuFound.telefenoempresa}}</strong>                  
                  </div>  
                  <div class="col-12 col-sm-12 col-lg-6 alert alert-secondary">
                    Valor total ingreso
                    <strong>{{entrevistaPostuFound.valortotalingreso}}</strong>                  
                  </div>  
                </div>                       
                <hr>
              </div>  
            </div>  
          </div>
      <div class="col-12 col-sm-6 col-lg-3">
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </mat-step>
        <mat-step [stepControl]="cuartopaso">
          <ng-template matStepLabel>Familiar</ng-template>
          <h1>Información familiar</h1>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Colegio del postulante:
                <strong>{{entrevistaPostuFound.colegio}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Año graduación del colegio del postulante:
                <strong>{{entrevistaPostuFound.aniogrado}}</strong>
                <hr>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Pais colegio del postulante:
                <strong>{{entrevistaPostuFound.pais}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Ciudad colegio del postulante:
                <strong>{{entrevistaPostuFound.municipio}}</strong>
                <hr>
              </div>
            </div>  
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Puntaje icfes:
                <strong>{{entrevistaPostuFound.bachillericfes}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Año icfes:
                <strong>{{entrevistaPostuFound.anioicfes}}</strong>
                <hr>
              </div>
            </div>    
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-12">
                <hr>
                Caracter del colegio donde realizo los estudios:
                <strong>{{entrevistaPostuFound.caractercolegio}}</strong>
                <hr>
              </div>
            </div>    
            <div class="row">
              <hr>
              <h5>Información familiar</h5>
              <div *ngFor="let entrevistaparentesco of entrevistaPostuFound[0][0];" class="alert alert-secondary">
                  <div class="col-12">Nombre : <strong> {{entrevistaparentesco.nombre}} </strong></div>
                  <div class="col-12">Edad : <strong> {{entrevistaparentesco.edad}} </strong></div>
                  <div class="col-12">Parentesco : <strong> {{entrevistaparentesco.tipoparentesco}} </strong></div>
                  <div class="col-12">Ciudad : <strong> {{entrevistaparentesco.ciudad}} </strong></div>
                  <div class="col-12">Direccion: <strong> {{entrevistaparentesco.direccion}} </strong></div>
                  <div class="col-12">Ocupación : <strong> {{entrevistaparentesco.ocupacion}} </strong></div>   <div class="col-12">Ingresos : <strong> {{entrevistaparentesco.ingresos}} </strong></div>                                                                        
                </div>
              <hr>
            </div>                               
          </div>
      <div class="col-12 col-sm-6 col-lg-3">
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </mat-step>
        <mat-step [stepControl]="quintopaso">
          <ng-template matStepLabel>Familiar 2</ng-template>
          <h1>Información familiar</h1>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Casa propia:<strong>{{entrevistaPostuFound.casapropia}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6" *ngIf="entrevistaPostuFound.casapropia == 'Si'">
                <hr>
                Tiene hipoteca:<strong>{{entrevistaPostuFound.hipoteca}}</strong>
                <div class="col-12" *ngIf="entrevistaPostuFound.hipoteca == 'hipoteca'">
                 Valor amortización:<strong>{{entrevistaPostuFound.valormensualamortizacion}}</strong>
                </div>               
                <hr>
              </div>  
              <div class="col-12" *ngIf="entrevistaPostuFound.casapropia == 'No'">
                  Valor arriendo:<strong>{{entrevistaPostuFound.valormensualarriendo}}</strong>
              </div>                           
            </div>
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Jefe de la familia:<strong>{{entrevistaPostuFound.jefefamilia}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6" *ngIf="entrevistaPostuFound.casapropia == 'Si'">
                <hr>
                Nivel educativo:<strong>{{entrevistaPostuFound.niveleducativojefe}}</strong>
                <hr>
              </div>              
            </div>            
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Valor aproximado ingreso familiar:<strong>{{entrevistaPostuFound.ingresomensualfamiliar}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6" *ngIf="entrevistaPostuFound.casapropia == 'Si'">
                <hr>
                Posición socio-economica del jefe familiar:<strong>{{entrevistaPostuFound.posicionjefe}}</strong>
                <hr>
              </div>              
            </div>             
          </div>
      <div class="col-12 col-sm-6 col-lg-3">
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </mat-step>
        <mat-step [stepControl]="sextopaso">
          <ng-template matStepLabel>Info. jefe</ng-template>
          <div class="col">
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Empresa del jefe de la familia: <strong>{{entrevistaPostuFound.empresajefe}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Ocupación del jefe de la familia: <strong>{{entrevistaPostuFound.ocupacionjefe}}</strong>
                <hr>
              </div>              
            </div>
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Sueldo del jefe de la familia: <strong>{{entrevistaPostuFound.ingresojefe}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Dirección de la empresa: <strong>{{entrevistaPostuFound.direccionempresajefe}}</strong>
                <hr>
              </div>              
            </div>        
            <div class="row">
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Ciudad ubicación de la empresa: <strong>{{entrevistaPostuFound.ciudadjefe}}</strong>
                <hr>
              </div>
              <div class="col-12 col-sm-6 col-lg-6">
                <hr>
                Telefono de la empresa: <strong>{{entrevistaPostuFound.telefonojefe}}</strong>
                <hr>
              </div>              
            </div>   
            <div class="row">
              <div class="col-12 col-sm-12 col-lg-12">
                <hr>
                Observación Final: <strong>{{entrevistaPostuFound.observacion}}</strong>
                <hr>                
              </div>
            </div>                          
          </div>
          
      <div class="col-12 col-sm-6 col-lg-3">
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
        </div>
        </mat-step>
      </mat-horizontal-stepper>

    </div>
  </div>
</div>

</ng-template>
<!--         Swal.fire({
        title: '¿Terminaste de realizar la visita domiciliaria?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: "Si, he terminado de realizarla.",
        cancelButtonText: "Aun no he terminado.",
        allowOutsideClick: false,
      }).then(result=>{
        if(result.value){



        }else{
          this.loadingcc = false;
          Swal.close();
        }
      }); -->

<ng-template #formBeneficiario>
  <h1 mat-dialog-title></h1>
  <div>
    <form >
    <div mat-dialog-content>
      <p *ngIf="aprobadolist.estadosel == 'Aprobado'">Cantidad de periodos que sera beneficiado</p>
      <mat-form-field class="example-full-width" appearance="fill" class="inputsEspacio" *ngIf="aprobadolist.estadosel == 'Aprobado'">
      <mat-label>Cantidad de periodos beneficiado</mat-label>
      <input [(ngModel)]="cantperiodos" id="cantperiodos" matInput placeholder="Cantidad de periodos" pattern="^[0-9]+" [ngModelOptions]="{standalone: true}">
      </mat-form-field>
      <hr *ngIf="aprobadolist.estadosel == 'Aprobado'">
      <p>Observación</p>
      <mat-form-field class="example-full-width" appearance="fill" class="inputsEspacio" style="width: 100%;">
        <mat-label>Observacion</mat-label>
        <textarea [(ngModel)]="observacionbene" matInput placeholder="Contenido" [ngModelOptions]="{standalone: true}"></textarea>
      </mat-form-field>
    </div>
    <div mat-dialog-actions>
      <button mat-raised-button color="primary" (click)="cambiarEstadoPostu(cantperiodos,observacionbene, aprobadolist.idpostu ,aprobadolist.estadopostu,aprobadolist.estadosel)" cdkFocusInitial>Guardar</button>
    </div>
    </form>
  </div>
</ng-template>


<ng-template #visitaPostu>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-sm-6 col-lg-3">
      <a (click)="descargarPDFVisita(visitaPostuFound)" style="cursor: pointer;"><img src="assets/imgs/icopdf.png" alt="icopdf" width="40px">Descargar como PDF</a>
      </div>
      </div>
      <div class="col">
        <mat-horizontal-stepper [linear]="isLinear" #stepper>
          <mat-step [stepControl]="primerpasovisita">
            <ng-template matStepLabel>Info. Basica</ng-template>
              <div class="row">
                <div class="col-12 col-sm-6 col-lg-6">
                  <hr>
                  Codigo Visita: <strong>{{visitaPostuFound.idvisita}}</strong>
                  <hr>
                </div>
                <div class="col-12 col-sm-6 col-lg-6">
                  <hr>
                   Codigo postulación: <strong>{{visitaPostuFound.postulacionid}</strong>}
                   <hr>
                </div>
              </div>
              <hr>
               <div class="row">
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Estamento: <strong>{{visitaPostuFound.estamento}}</strong>
                    <hr>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Nombre barrio: <strong>{{visitaPostuFound.barrio}}</strong>
                    <hr>
                  </div>
                 
                </div>
                <hr>
                <div class="row">
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                     Comuna: <strong>{{visitaPostuFound.comuna}}</strong><hr>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Nombre del que atendio: <strong>{{visitaPostuFound.nombreatencion}}</strong><hr>
                  </div>
                  
                </div>
                <hr>
                <div class="row">
                 <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Parentesco: <strong>{{visitaPostuFound.parentesco}}</strong><hr>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Obligación: <strong>{{visitaPostuFound.obligacion}</strong>}<hr>
                  </div>
                </div>
                <hr>
                <div class="row">
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Cual (obligación): <strong>{{visitaPostuFound.cualobligacion}}</strong><hr>
                  </div>
                  <div class="col-12 col-sm-6 col-lg-6"><hr>
                    Estrato DANE: <strong>{{visitaPostuFound.estratodane}}</strong><hr>
                  </div>
                </div>
                <hr>
      <div class="col-12 col-sm-6 col-lg-3">
        <hr>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>                
          </mat-step>
          <mat-step [stepControl]="segundopasovisita">
            <ng-template matStepLabel>Info. socioeconomica</ng-template>
             <div class="row">
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  ¿Paga arriendo?: <strong>{{visitaPostuFound.pagoarriendo}}</strong><hr>
                </div>
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Valor del arriendo: <strong>{{visitaPostuFound.valorarriendo}</strong>}<hr>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Que cubre arriendo: <strong>{{visitaPostuFound.cubrearriendo}</strong>}<hr>
                </div>
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Otro (Arriendo) : <strong>{{visitaPostuFound.otroarriendo}}</strong><hr>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Fuente de ingreso: <strong>{{visitaPostuFound.fuenteingreso}}</strong><hr>
                </div>
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Cual (Fuente de ingreso): <strong>{{visitaPostuFound.cualfuente}}</strong><hr>
                </div>
                
              </div>
              <hr>
               <div class="col-12 col-sm-6 col-lg-3">
                <hr>
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
          <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
          </mat-step>
          <mat-step [stepControl]="tercerpasovisita">
            <ng-template matStepLabel>Vivienda</ng-template>
              <div class="row">
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Apecto de la vivienda: <strong>{{visitaPostuFound.aspectocasa}}</strong><hr>
                </div>
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                   Cual (Aspecto vivienda): <strong>{{visitaPostuFound.cualaspecto}}</strong><hr>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Servicio publico:
                  <div class="alert alert-secondary">
                    <strong>{{visitaPostuFound.serviciopublico}}</strong><hr>
                  </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-6"><hr>
                  Cuarto del solicitante: <strong>{{visitaPostuFound.cuartosolicitante}}</strong><hr>
                </div>
              </div>            
              <div class="row">
               <div class="col-12 col-sm-6 col-lg-12"><hr>
                  Descripción final: <strong>{{visitaPostuFound.descripcionfinal}}</strong><hr>
                </div>
              </div>
      <div class="col-12 col-sm-6 col-lg-3">
        <hr>
          <button mat-raised-button color="primary" matStepperPrevious style="margin-right: 5%;">Atras</button>
        </div>              
          </mat-step>                    
        </mat-horizontal-stepper>
    </div>
  </div>
  <div class="container-fluid" id="visitaListar" #visitarListar>
    <div class="col">
 
 

  <hr>
  </div>
  </div>
</ng-template>

<ng-template #templateverpostulacion>

  <ng-template #successactualizacion>
    <div  class="dialogSuccess" >
      <i class="icofont-ui-check text-center iconSuccessRegister"></i>
      <h4 class="text-center textoSuccess">Actualizado exitosamente</h4>
    </div>
  </ng-template>
  <div class="row" data-aos="fade-down" data-aos-once="true">
    <div class="col-12 text-center">
      <h2>Estado postulación</h2>
    </div>
<!-- COMIENZO COPIADA -->
<div class="pasosestados">
  <div class="paso mrpaso" [ngClass]="circlecolor1">
    <div class="circulopaso">
      <i class="icofont-clock-time iconSearchUser"></i>
    </div>
    <p>En espera</p>
    <p></p>
  </div>
  <div class="paso pasoline2 mrpaso" [ngClass]="circlecolor2">
    <div class="circulopaso">
      <i class="icofont-tasks iconSearchUser"></i>
    </div>
    <p>Revisión</p>
  </div>
  <div class="paso pasoline3 mrpaso" [ngClass]="circlecolor3">
    <div class="circulopaso">
      <i class="icofont-address-book iconSearchUser"></i>
    </div>
    <p>Entrevista</p>
  </div>
  <div class="paso pasoline4 mrpaso4" [ngClass]="circlecolor4">
    <div class="circulopaso">
      <i class="icofont-home iconSearchUser"></i>
    </div>
    <p>Visita Domiciliaria</p>
  </div>
  <div class="paso pasoline5" [ngClass]="circlecolor5">
    <div class="circulopaso">
      <i *ngIf="estadopostusel == 1" class="icofont-check-circled iconSearchUser"></i>
      <i *ngIf="estadopostusel == 2" class="icofont-close-circled iconSearchUser"></i>
      <i *ngIf="estadopostusel != 1 && estadopostusel != 2 " class="icofont-spinner iconSearchUser"></i>
    </div>
    <p>Estado Revisión Cali</p>
  </div>
</div>
<div class="infopostusel">
  <div class="row">
  <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
  <mat-tab label="Información postulación" data-aos="fade-down" data-aos-once="true">
    <div class="tabinfopostu">
       <div class="row">
      <div class="col-6">
        <strong>{{postuseltable.consecutivo_postulacion}}</strong> 
        <p>Código postulación : </p>   
        <hr>
        
      </div>
      <div class="col-6">
        <strong>{{postuseltable.fechapostulacion}}</strong>
        <p>Fecha postulación : </p>
        <hr>
        
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <strong>{{postuseltable.estudiante.nombreestudiante}}</strong>
        <p>Nombre estudiante :</p>
        <hr>
         
      </div>
      <div class="col-6">
        <strong>{{postuseltable.estudiante.identificacion}}</strong>
        <p>Identificacición : </p>
        <hr>
        
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <strong>{{postuseltable.semestre}}</strong>
        <p>Semestre : </p>
        <hr>
        
      </div>
      <div class="col-6">
        <strong>{{postuseltable.estrato}}</strong>
        <p>Estrato : </p>
        <hr>
        
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <strong>{{postuseltable.codigoestudiante}}</strong>
        <p>Codigo estudiante : </p>
        <hr>
      </div>
      <div class="col-6">
          <strong>{{postuseltable.carrera}}</strong>
          <p>Carrera : </p>          
        <hr>
      </div>
    </div>
    <div class="col-12">
    <div class="row">
      <div class="col-lg">
            <strong>{{postuseltable.promedio}}</strong>
            <p>Promedio : </p>
      </div>
      <div class="col-lg" *ngIf="estadopostusel != 3">
            <form>
              <p>¿Cumple o no cumple el promedio?</p>
              <div class="col-lg" *ngIf="estadopostusel != 4 || $nombreusuario.rol == '5'">
                <mat-radio-group  aria-label="Cumple o no cumple" >
                  <mat-radio-button #text1 value="1" color="warn"  [disabled]="estadopostusel != 4"  [checked]="postuseltable.estadopromedio == 1"><i class="icofont-check-circled" style="font-size: 20px;"></i></mat-radio-button>
                  <mat-radio-button #checkdos value="2" color="warn" [disabled]="estadopostusel != 4" [checked]="postuseltable.estadopromedio == 2"><i class="icofont-close-circled" style="font-size: 20px;"></i></mat-radio-button>
                </mat-radio-group>
              </div>
              <div class="col-lg" *ngIf="estadopostusel == 4 && $nombreusuario.rol != '5'">
                <mat-radio-group  aria-label="Cumple o no cumple" >
                  <mat-radio-button #text1 value="1" color="warn" (change)="updateEstadoPromedio(text1.value)" [checked]="postuseltable.estadopromedio == 1"><i class="icofont-check-circled" style="font-size: 20px;"></i></mat-radio-button>
                  <mat-radio-button #checkdos value="2" color="warn" (change)="updateEstadoPromedio(checkdos.value)" [checked]="postuseltable.estadopromedio == 2"><i class="icofont-close-circled" style="font-size: 20px;"></i></mat-radio-button>
                </mat-radio-group>
              </div>
            </form>
          </div>
    </div>
    </div>
    <hr>
  </div>
  </mat-tab>
  <mat-tab label="Documentos" *ngIf="estadopostusel != 3" data-aos="fade-down" data-aos-once="true">
    <div class="tabinfopostu ">
      <div class="row">
        <div class="col-lg" *ngFor="let docspostu of documentosFoundpostu">
          <a (click)="downloadPDF(docspostu.archivo,docspostu.nombredoc)" class="buttonsdownloaddoc"><img src="assets/imgs/icopdf.png" alt="icopdf" width="40px">{{docspostu.nombredoc}}</a>
          <hr>
          <div class="checkboxs">
            <mat-radio-group  aria-label="Selecciona si un documento esta correcto" >
              <mat-radio-button #text1 value="1" color="warn" [disabled]="estadopostusel != 4 || $nombreusuario.rol == '5'" (change)="checkboxEstados(docspostu.concecutivodoc,text1.value )" [checked]="docspostu.estado == 1">Bien diligenciado</mat-radio-button>
              <mat-radio-button #checkdos value="2" color="warn" [disabled]="estadopostusel != 4 || $nombreusuario.rol == '5'" (change)="checkboxEstados(docspostu.concecutivodoc,checkdos.value )" [checked]="docspostu.estado == 2">Mal diligenciado</mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12">
          <mat-form-field class="example-full-width" appearance="fill" class="inputsEspacio" style="width: 100%;" *ngIf="$nombreusuario.rol != '5'">
            <mat-label>Observación</mat-label>
            <textarea [(ngModel)]="observacion"  [ngModelOptions]="{standalone: true}" matInput placeholder="Contenido" [disabled]="estadopostusel != 4"></textarea>
          </mat-form-field>
          <mat-form-field class="example-full-width" appearance="fill" class="inputsEspacio" style="width: 100%;" *ngIf="$nombreusuario.rol == '5'">
            <mat-label>Observación</mat-label>
            <textarea disabled="true"  matInput placeholder="Contenido" ></textarea>
          </mat-form-field>
        </div>
      </div>  
      <div class="row mb-4">
        <div class="col-12" style="text-align: center;" *ngIf="estadopostusel == 4 && $nombreusuario.rol != '5'">
          <span style="float: left;" *ngIf="postuseltable.fecharevision != null">Fecha revisión: {{postuseltable.fecharevision.date | date:'dd/MM/yyyy'}}</span>
          <span style="float: left;" *ngIf="postuseltable.fecharevision == null">Fecha revisión: {{fechaactual | date:'dd/MM/yyyy'}}</span>          
          <a mat-raised-button (click)="actualizarEstadoPostulacion(successactualizacion)">Actualizar estado documentos</a>
          <hr>
        </div>
         <div class="col-12" style="text-align: center;" *ngIf="estadopostusel != 4 || $nombreusuario.rol == '5'">
          <span style="float: left;" *ngIf="postuseltable.fecharevision != null">Fecha revisión: {{postuseltable.fecharevision.date | date:'dd/MM/yyyy'}}</span>
          <span style="float: left;" *ngIf="postuseltable.fecharevision == null">Fecha revisión: {{fechaactual | date:'dd/MM/yyyy'}}</span>   
          <a mat-raised-button color="primary" [disabled]="estadopostusel != 4">Actualizar estado documentos</a>
          <hr>
        </div>
      </div>
    </div>


  </mat-tab>
    <mat-tab label="Entrevista" *ngIf="estadopostusel != 3 && estadopostusel != 4" data-aos="fade-down" data-aos-once="true">
      <div class="tabinfopostu mb-4">
        <div class="row">
          <h1>Entrevista</h1>
          <hr>
          <a mat-raised-button color="primary" *ngIf="!entrevistvalidate && $nombreusuario.rol != '5'" [routerLink]="['/entrevista', postuseltable.consecutivo_postulacion,$idConvo]" >Iniciar entrevista</a>
          <p *ngIf="!entrevistvalidate && $nombreusuario.rol == '5'">No se ha realizado entrevista actualmente.</p>
          <a mat-raised-button color="primary" *ngIf="entrevistvalidate" (click)="verEntrevistaModal(entrevistaPostu)">Ver entrevista realizada</a>
        </div>
        <div class="row">
          <hr>
        <span style="float: left;" class="mt-4 mb-4" *ngIf="entrevistaPostuFound == undefined">Fecha entrevista: --/--/--</span>
        <span style="float: left;" class="mt-4 mb-4" *ngIf="entrevistaPostuFound != undefined">Fecha entrevista: {{entrevistaPostuFound.fecharegistro}}</span>

        <hr>
        </div>
    </div>
  </mat-tab>
  <mat-tab label="Visita" *ngIf="estadopostusel != 3 && estadopostusel != 4 && estadopostusel != 5" data-aos="fade-down" data-aos-once="true">
    <div class="tabinfopostu mb-4">
      <div class="row">
        <h1>Visita</h1>
        <hr>
        <a mat-raised-button color="primary" class="mb-4" *ngIf="!visitavalidate && $nombreusuario.rol != '5'" [routerLink]="['/visitadomiciliariaconvo', postuseltable.consecutivo_postulacion,$idConvo]" >Iniciar visita domiciliaria</a>
        <p *ngIf="!visitavalidate && $nombreusuario.rol == '5'">No se ha realizado entrevista actualmente.</p>
        <a mat-raised-button color="primary" *ngIf="visitavalidate" (click)="verVisitaModal(visitaPostu)">Ver visita domiciliaria realizada</a>
      </div>
      <div class="row">
        <div>
          <form>
            <hr>
            <h1>Actualizar imagenes del cuarto y cocina del postulante</h1>
            <hr>
            <div class="col-lg" >
              <hr>
              <h3 *ngIf="$nombreusuario.rol != '5'">Actualiza la foto de la cocina  del postulante</h3>
            <input type="file" *ngIf="$nombreusuario.rol != '5'" accept="image/x-png,image/jpeg" (change)="seleccionarArchivo($event,0)">
            <hr>
            <div class="col">
              <h5>Imagen actual subida</h5>
              <hr>
              <img  [src]="'data:image/jpg;base64,' + postuseltable.imagencocina" style="cursor: zoom-in;" alt="Imagen cocina" width="100px" (click)="verimagencuarto(imagencocinamodal)">
              <img [src]="'data:image/jpg;base64,' + imagenesvisita.imagencocina" (click)="verimagencuarto(imagencocinamodal)" style="cursor: zoom-in;" alt="Imagen cuarto" width="100px"> 
                <ng-template #imagencocinamodal>
                  <div class="text-end" mat-dialog-actions>
                    <button mat-button [mat-dialog-close]="true"><i class="icofont-close-circled" style="font-size: 20px;"></i></button>  
                  </div>
                  
                  <img [src]="'data:image/jpg;base64,' + postuseltable.imagencocina" alt="Imagen cuarto" width="650px" *ngIf="postuseltable.imagencocina != null">
                  <img [src]="'data:image/jpg;base64,' + imagenesvisita.imagencocina" alt="Imagen cuarto" width="650px">                  
                </ng-template>
                <a mat-stroked-button color="primary" download="imagencocina.png" href="data:image/png;base64,{{postuseltable.imagencocina}}" *ngIf="postuseltable.imagencocina != 'null'"> Descargar imagen</a>
                <a mat-stroked-button color="primary" download="imagencocina.png" href="data:image/png;base64,{{imagenesvisita.imagencocina}}" *ngIf="postuseltable.imagencocina == 'null' && imagenesvisita.imagencocina != 'null'"> Descargar imagen</a>                
              </div>
            </div>
            <hr>
            <div class="col-lg" >
              <h3 *ngIf="$nombreusuario.rol != '5'">Actualiza la foto del cuarto del postulante</h3>
              <input type="file" *ngIf="$nombreusuario.rol != '5'" accept="image/x-png,image/jpeg" (change)="seleccionarArchivo($event,1)">
              <hr>
              <div class="col">
                <h5>Imagen actual subida</h5>
                <hr>
                <img  [src]="'data:image/jpg;base64,' + postuseltable.imagencuarto" style="cursor: zoom-in;" width="100px" alt="Imagen cuarto" (click)="verimagencuarto(imagencuartomodal)" *ngIf="postuseltable.imagencuarto != 'null'">
                <img [src]="'data:image/jpg;base64,' + imagenesvisita.imagencuarto" style="cursor: zoom-in;" alt="Imagen cuarto" width="100px" (click)="verimagencuarto(imagencuartomodal)" *ngIf="postuseltable.imagencuarto == 'null'">                 
                <ng-template #imagencuartomodal>
                  <div class="text-end" mat-dialog-actions>
                    <button mat-button [mat-dialog-close]="true"><i class="icofont-close-circled" style="font-size: 20px;"></i></button>  
                  </div>
                  
                  <img [src]="'data:image/jpg;base64,' + postuseltable.imagencuarto" alt="Imagen cuarto" width="650px" *ngIf="postuseltable.imagencuarto != null">
                  <img [src]="'data:image/jpg;base64,' + imagenesvisita.imagencuarto" alt="Imagen cuarto" width="650px">
                </ng-template>
                <a mat-stroked-button color="primary" download="imagencuarto.png" href="data:image/png;base64,{{postuseltable.imagencuarto}}" *ngIf="postuseltable.imagencuarto != 'null'"> Descargar imagen</a>
                <a mat-stroked-button color="primary" download="imagencocina.png" href="data:image/png;base64,{{imagenesvisita.imagencuarto}}" *ngIf="postuseltable.imagencuarto == 'null' && imagenesvisita.imagencuarto != 'null'"> Descargar imagen</a>                  
              </div>
              <hr>
            </div>
            <a mat-raised-button color="primary" *ngIf="$nombreusuario.rol != '5'" class="col-12" (click)="actualizarImagesPostu()">Subir fotos.</a>
          </form>
        </div>
      </div>
      <div class="row">
        <hr>
        <span style="float: left;" class="mt-4 mb-4" *ngIf="visitaPostuFound == undefined">Fecha visita: --/--/--</span>        
        <span style="float: left;" class="mt-4 mb-4" *ngIf="visitaPostuFound != undefined">Fecha visita: {{visitaPostuFound.fechavisita}}</span>

        <hr>
        </div>
    </div>
  </mat-tab>
  <mat-tab label="Información final" *ngIf="estadopostusel == 1 || estadopostusel == 2">
    <div class="container-fluid">
      <div class="row">
        <h1>Información final</h1>
          <p>Tiempo total beneficiado asignado: {{postuseltable.tiempototalbene || cantperiodos}} </p>
          <p>Tiempo restante : {{postuseltable.tiemporestantebene || cantperiodos}} </p>
          <p>Observación:</p>
          <p>{{postuseltable.observacionbene || observacionbene}}</p>
        <!-- <p>{{postuseltable.fechabeneficio.date | date:'dd/MM/yyyy' || fechaactual}}</p> -->
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
 </div>
  <div class="row">

    <div class="buttonestados col-12" *ngIf="$nombreusuario.rol != '5'">
        <img src="assets/imgs/loading.gif" *ngIf="loadingcc" alt="Cargando.." width="60px">
      <div *ngIf="estadopostusel == 3 && $nombreusuario.rol == '2'"> <!-- en espera -->
        <button mat-raised-button color="primary" style="background-color:#2d8230;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Revision')" class="buttonsiguiente">Revisión<i class="icofont-rounded-right"></i></button>
      </div>
      <div *ngIf="estadopostusel == 4 && $nombreusuario.rol == '2'" style="text-align: center;"> <!-- Revision -->
        <button mat-flat-button color="primary" style="background-color: rgba(0,0,0,.12);color: black;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'En espera')" class="buttonanterior"><i class="icofont-rounded-left"></i>En espera</button>
        <button mat-raised-button color="primary" style="background-color:#2d8230;"  (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Entrevista')" class="buttonsiguiente">Entrevista<i class="icofont-rounded-right"></i></button>
<!--         <button mat-stroked-button color="primary" (click)="cambiarEstadoPostu(postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Aprobado')" style="margin-right: 20px;font-weight: bolder;color:#357b38;" class="buttonmedio">Aprobado</button>
        <button mat-stroked-button color="warn" style="font-weight: bolder;" (click)="cambiarEstadoPostu(postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Rechazado')" class="buttonmedio">Rechazado</button> -->
        <button mat-stroked-button color="primary" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Aprobado')" style="margin-right: 20px;font-weight: bolder;color:#357b38;" class="buttonmedio">Aprobado</button>
        <button mat-stroked-button color="warn" style="font-weight: bolder;" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Rechazado')" class="buttonmedio">Rechazado</button>
      </div>
      <div *ngIf="estadopostusel == 5" style="text-align: center;"> <!-- Entrevista -->
        <button mat-flat-button color="primary" style="background-color: rgba(0,0,0,.12);color: black;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Revision')" *ngIf="$nombreusuario.rol == '2'" class="buttonanterior"><i class="icofont-rounded-left"></i>Revision</button>
        <button mat-raised-button color="primary" style="background-color:#2d8230;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Visita')" class="buttonsiguiente">Visita<i class="icofont-rounded-right"></i></button>
        <button mat-stroked-button color="primary" *ngIf="$nombreusuario.rol == '2'" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Aprobado')" style="margin-right: 20px;font-weight: bolder;color:#357b38;" class="buttonmedio">Aprobado</button>
        <button mat-stroked-button color="warn" *ngIf="$nombreusuario.rol == '2'" style="font-weight: bolder;" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Rechazado')" class="buttonmedio">Rechazado</button>
      </div>
      <div *ngIf="estadopostusel == 6" style="text-align: center;"><!-- Visita -->
        <button mat-flat-button color="primary" style="background-color: rgba(0,0,0,.12);color: black;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Entrevista')" class="buttonanterior"><i class="icofont-rounded-left"></i>Entrevista</button>
        <button mat-stroked-button color="primary" *ngIf="$nombreusuario.rol == '2'" style="font-weight: bolder;color:#357b38; margin-right: 20px;" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Aprobado')" class="buttonmedio ">Aprobado</button>
        <button mat-stroked-button color="warn" *ngIf="$nombreusuario.rol == '2'" style="margin-right: 20px;font-weight: bolder;" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Rechazado')" class="buttonmedio">Rechazado</button>
      </div>
      <div *ngIf="estadopostusel == 1 && $nombreusuario.rol == '2'" style="text-align: center;">  <!-- Aprobado -->
        <button mat-flat-button color="primary" style="background-color: rgba(0,0,0,.12);color: black;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Visita')" class="buttonanterior"><i class="icofont-rounded-left"></i>Visita</button>
        <button mat-stroked-button color="warn" style="font-weight: bolder;" (click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Rechazado')" class="buttonmedio">Rechazado</button>
      </div>
      <div *ngIf="estadopostusel == 2 && $nombreusuario.rol == '2'" style="text-align: center;"> <!-- Rechazado -->
        <button mat-flat-button color="primary" style="background-color: rgba(0,0,0,.12);color: black;" (click)="cambiarEstadoPostu(0,'',postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Visita')" class="buttonanterior"><i class="icofont-rounded-left"></i>Visita</button>
        <button mat-stroked-button color="primary"  style="font-weight: bolder;color:#357b38;"(click)="formEstadoFinal(formBeneficiario,postuseltable.consecutivo_postulacion,postuseltable.estado_postulacion,'Aprobado')" class="buttonmedio">Aprobar</button>
      </div>
    </div><!-- fin -->
  </div>

</div>

<!-- FIN COPIADA -->
  </div>
</ng-template>



<ng-template #mytemplate>
  <div >
    <form>
      <h1>Información Estudiante
      </h1>
      <hr>

      <div class="row">
        <div class="col-6">
          <mat-form-field class="example-full-width" disabled appearance="none">
            <mat-label>Identificación</mat-label>
            <input #beca id="identificacionest" matInput placeholder="cupos" disabled [value]="postulacionesest[0].estudiante.identificacion">
          </mat-form-field>
        </div>
        
      </div>
      <div class="row">
        <div class="col-12">

          <mat-form-field class="example-full-width" disabled appearance="none">
            <mat-label>Correo electrónico</mat-label>
            <input #beca id="correoest" matInput placeholder="cupos" disabled [value]="postulacionesest[0].estudiante.correoest">
          </mat-form-field>
        </div>
      </div>
    </form>
    <h1>Postulaciones Realizadas</h1>
    <div class="row">
      <div class="col-12 m-12 text-center">
        <div class ="container" style="padding-bottom:20px">
          <button mat-raised-button color="warning" (click)="exportAsXLSX2()">Exportar a Excel</button>
          <!--<button mat-raised-button color="accent">Accent</button>-->
        </div>
      </div>
    </div>
    <table class="table table-bordered table-striped mb-0">
      <thead>
        <tr>
          <th>Fecha postulación</th>
          <th>Tipo beca</th>
          <th>Estado</th>
          <th>Semestre</th>
          <th>Estrato registrado</th>
        </tr>
      </thead>

      <tbody *ngFor="let postu of postulacionesest">
        <tr>
          <td>{{postu.fechapostulacion}}</td>
          <td>{{postu.nombreConv}}</td>
          <td>{{postu.estado_postulacion}}</td>
          <td>{{postu.semestre}}</td>
          <td>{{postu.estrato}}</td>
        </tr>
      </tbody>
    </table>
    <!--<div class="row">
      <div class="col-10 m-4 text-center">
        <button mat-raised-button color="primary">Generar informe estudiante</button>
      </div>
    </div>-->

  </div>
</ng-template>
<div class="cuerpopage cup1" data-aos="fade-down" data-aos-once="true">
  <div class="formtiqConvo ">

    <div class="container-fluid">

      <div class="row">
        <form [formGroup]="formularioConvocatoria" *ngIf="loading">
          <div>
          <h1>      
            <button mat-icon-button color="primary"  [routerLink]="['/listarConvocatoria']" aria-label="Example icon button with a home icon">
        <i class="icofont-rounded-left" style="color:#f44336 !important;font-size: 20px;"></i>
        <span style="color: black !important;">Regresar</span>
      </button>
      <button mat-icon-button color="primary" style="float: right;margin-right: 200px;"  [routerLink]="['/listadoFinal', $idConvo]" aria-label="Example icon button with a home icon">
        <span style="color: black !important;">Listado aprobados y rechazados</span>
        <i class="icofont-rounded-right" style="color:#f44336 !important;font-size: 20px;"></i>
      </button>
      </h1>
            <hr>
            <h1>
              Información Convocatoria
              <div class="botonEditarForm">
                <a (click)="activeFormActualizar()" data-title="Editar convocatoria" *ngIf="$nombreusuario.rol == '2'"><i class="icofont-ui-edit iconSearchUser"></i></a>
              </div>
            </h1>
            <hr>
            <div class="row" style="font-weight: bolder;">
              <div class="col-12 row">
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Codigo de convocatoria</h4>
                  <mat-form-field class="example-full-width"  appearance="fill">
                    <mat-label>Consecutivo Convocatoria</mat-label>
                    <input #consecutivo_convocatoria disabled style="font-weight: bolder;" id="consecutivo" matInput placeholder="consecutivo" [value]="$convoBuscada.consecutivo_convocatoria">
                  </mat-form-field>
                </div>
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Cantidad de cupos asignados</h4>
                  <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Cantidad de Cupos</mat-label>
                    <input #cupo matInput style="font-weight: bolder;" id="cupos" [disabled]="disabledActualizar"  placeholder="cupos" [value]="$convoBuscada.cupo">
<!--                     <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['cupo'].hasError('required') &&
                    formularioConvocatoria.controls['cupo'].touched">Por favor, escriba un número de cupos</mat-error> -->
                  </mat-form-field>
                </div>
              </div>
              <div class="col-12 row">
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Beca seleccionada</h4>
                  <mat-form-field appearance="fill">
                    <mat-label>{{$convoBuscada.descbeca}}</mat-label>
                    <mat-select #becas style="font-weight: bolder;" formControlName="beca" [disabled]="disabledActualizar" required>
                      <mat-option></mat-option>
                      <mat-option *ngFor="let beca of convocatoriaBeca" [value]="beca">
                        {{beca.descripcion}}
                      </mat-option>
                    </mat-select>
                    <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['beca'].hasError('required') &&
                    formularioConvocatoria.controls['beca'].touched">Por favor, seleccione una beca</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Periodo academico de la convocatoria</h4>
                    <mat-form-field appearance="fill" style="font-weight: bolder;">
                      <mat-label>{{$convoBuscada.descperiodo}}</mat-label>
                      <mat-select #periodosacademicos [disabled]="disabledActualizar" required formControlName="periodos">
                        <mat-option>--</mat-option>
                        <mat-option *ngFor="let periodos of convocatoriaPeriodo" [value]="periodos">
                          {{periodos.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['periodos'].hasError('required') &&
                      formularioConvocatoria.controls['periodos'].touched">Por favor, Indique un periodo</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-12 row">
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Fecha inicio de la convocatoria</h4>
                  <h5 style="font-weight: bolder;">Fecha actual {{$convoBuscada.fechainicio}}</h5>
                  <hr>
                  <mat-form-field appearance="fill" >
                    <input #fecha_inicio style="font-weight: bolder;" [disabled]="disabledActualizar" matInput [ngxMatDatetimePicker]="picker" placeholder="Selecciona Fecha Inicial" 
                    [value]="$convoBuscada.fechainicio" formControlName="fechaini">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>

                    <ngx-mat-datetime-picker  #picker  >
                    </ngx-mat-datetime-picker>
                    <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['fechaini'].hasError('required') &&
                    formularioConvocatoria.controls['fechaini'].touched">Por favor, Indique una fecha inicio</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-6">
                  <h4 style="font-weight: bolder;">Fecha fin de la convocatoria</h4>
                  <h5 style="font-weight: bolder;">Fecha actual {{$convoBuscada.fechafin}}</h5>
                  <hr>
                  <mat-form-field appearance="fill">
                    <input #fecha_fin style="font-weight: bolder;" [disabled]="disabledActualizar" matInput [ngxMatDatetimePicker]="picker2" placeholder="Selecciona Fecha final" 
                    [value]="$convoBuscada.fechafin" formControlName="fechafin">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>

                    <ngx-mat-datetime-picker  #picker2  >
                    </ngx-mat-datetime-picker>
                    <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['fechafin'].hasError('required') &&
                    formularioConvocatoria.controls['fechafin'].touched">Por favor, Indique una fecha fin</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-10 row"> 
              <h4 style="font-weight: bolder;">Estado de la convocatoria</h4>               
                <mat-form-field style="float: right; font-weight: bolder;" appearance="fill">
                    <mat-label>{{$convoBuscada.estadoconvo}}</mat-label>
                    <mat-select #estado_convocatoria [disabled]="disabledActualizar" required formControlName="estado" [value]="$convoBuscada.estadoconvo">
                      <mat-option>--</mat-option>
                      <mat-option value="Activo">Activo</mat-option>
                      <mat-option value="Inactivo">Inactivo</mat-option>
                    </mat-select>
                    <mat-error class="help-block form-error text-danger small" *ngIf="formularioConvocatoria.controls['estado'].hasError('required') &&
                    formularioConvocatoria.controls['estado'].touched">Por favor, seleccione una beca</mat-error>
                  </mat-form-field>
              </div>
            </div>
                    <div *ngIf="activeButton">
                      <a mat-raised-button color="primary" disabled="true" *ngIf="!formularioConvocatoria.valid"name="action">Actualizar</a>
                      <a mat-raised-button color="primary" *ngIf="formularioConvocatoria.valid" (click)="actualizarConvocatoria
                      (consecutivo_convocatoria.value, cupo.value, becas.value,periodosacademicos.value,fecha_inicio.value,fecha_fin.value,estado_convocatoria.value,successactualizacion)" name="action">Actualizar</a>
                    </div>
                </div>


                  </form>
                </div>
                <div class="card-action">
                  <hr>
                  <h1 style="text-transform: uppercase;" *ngIf="$nombreusuario.rol == '2' || $nombreusuario.rol == '5'">Postulaciones</h1>
                  <h1 style="text-transform: uppercase;" *ngIf="$nombreusuario.rol == '4'">Postulaciones a entrevista o Visita Domiciliaria</h1>
                  <hr>
                  <div class="col-12">
                    <h4>Digita y filtra la tabla</h4>
                    <mat-form-field class="example-full-width" style="width: 100%;" appearance="fill" class="inputsEspacio">
                          <mat-label>Digita para filtrar</mat-label>
                          <input   matInput (keyup)="applyFilter($event.target.value)">
                    </mat-form-field>
                  </div>
                  <div class="row">
                    <div class="col-12 m-12 text-center">
                      <div class ="container" style="padding-bottom:20px">
                        <button mat-raised-button color="warning" (click)="applyExportarFiltrado()">Exportar a Excel</button>
                      </div>
                    </div>
                  </div>
                <div class="table-responsive">
                  <div class="mat-elevation-z8 table-responsive">
                  <table mat-table [dataSource]="dataSource" matSort style="width: 100%;text-align: center;" *ngIf="$nombreusuario.rol != 4">

                    <!-- ID Column -->
                    <ng-container matColumnDef="estudiante.nombreestudiante">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre estudiante</th>
                      <td mat-cell *matCellDef="let row"> {{row.estudiante.nombreestudiante}} <a (click)="buscarEstPostuByIden(row.estudiante.identificacion,mytemplate)" data-title-a="Ver información del estudiante"><i class="icofont-address-book iconSearchUser"></i></a> </td>
                    </ng-container>

                    <!-- Progress Column -->
                    <ng-container matColumnDef="codigoestudiante">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Código Estudiante</th>
                      <td mat-cell *matCellDef="let row"> {{row.codigoestudiante}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="ciudadresidencia">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Ciudad residencia</th>
                      <td mat-cell *matCellDef="let row"> {{row.ciudadresidencia}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="direccionresidencia">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Direccion residencia</th>
                      <td mat-cell *matCellDef="let row"> {{row.direccionresidencia}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="estrato">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Estrato</th>
                      <td mat-cell *matCellDef="let row"> {{row.estrato}} </td>
                    </ng-container>                              

                                        <!-- Color Column -->
                    <ng-container matColumnDef="carrera">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Carrera</th>
                      <td mat-cell *matCellDef="let row" > {{row.carrera}} </td>
                    </ng-container>                              

                    <!-- Color Column -->
                    <ng-container matColumnDef="promedio">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Promedio</th>
                      <td mat-cell *matCellDef="let row" > {{row.promedio}} </td>
                    </ng-container>
                                        <!-- Color Column -->
                    <ng-container matColumnDef="fechapostulacion">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha postulación</th>
                      <td mat-cell *matCellDef="let row" > {{row.fechapostulacion}} </td>
                    </ng-container>
                                        <!-- Color Column -->
                    <ng-container matColumnDef="semestre">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Semestre</th>
                      <td mat-cell *matCellDef="let row" > {{row.semestre}} </td>
                    </ng-container>

                                        <!-- Color Column -->
                    <ng-container matColumnDef="estado_postulacion">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
                      <td mat-cell *matCellDef="let row" > {{row.estado_postulacion}} </td>
                    </ng-container>
                                                            <!-- Color Column -->
                    <ng-container matColumnDef="Acciones">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Acciones</th>
                      <td mat-cell *matCellDef="let row" > <a (click)="verPostuSel(row.consecutivo_postulacion, row.estado_postulacion, row ,templateverpostulacion)" data-title="Ver postulación"><i class="icofont-attachment iconSearchUser"></i></a> </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                    <!-- Row shown when there is no matching data. -->
                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="4">No hay datos que coincidan con lo digitado</td>
                    </tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]" *ngIf="$nombreusuario.rol != 4"></mat-paginator>


                  <table mat-table [dataSource]="dataSource2" matSort style="width: 100%;text-align: center;" *ngIf="$nombreusuario.rol == 4">

                    <!-- ID Column -->
                    <ng-container matColumnDef="estudiante.nombreestudiante">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre estudiante</th>
                      <td mat-cell *matCellDef="let row"> {{row.estudiante.nombreestudiante}} <a (click)="buscarEstPostuByIden(row.estudiante.identificacion,mytemplate)" data-title="Ver información del estudiante"><i class="icofont-address-book iconSearchUser"></i></a> </td>
                    </ng-container>

                    <!-- Progress Column -->
                    <ng-container matColumnDef="codigoestudiante">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Código Estudiante</th>
                      <td mat-cell *matCellDef="let row"> {{row.codigoestudiante}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="ciudadresidencia">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Ciudad residencia</th>
                      <td mat-cell *matCellDef="let row"> {{row.ciudadresidencia}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="visitaencontro">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Visita</th>
                      <td mat-cell *matCellDef="let row"> <span *ngIf="row.visitaencontro" style="color: #4caf50;">Si</span><span *ngIf="!row.visitaencontro"  style="color: #f44336;">No</span> </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="entrevistaencontro">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Entrevista</th>
                      <td mat-cell *matCellDef="let row"> <span *ngIf="row.entrevistaencontro" style="color: #4caf50;">Si</span><span *ngIf="!row.entrevistaencontro"  style="color: #f44336;">No</span> </td>
                    </ng-container>                              

                                        <!-- Color Column -->
                    <ng-container matColumnDef="carrera">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Carrera</th>
                      <td mat-cell *matCellDef="let row" > {{row.carrera}} </td>
                    </ng-container>                              

                    <!-- Color Column -->
                    <ng-container matColumnDef="promedio">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Promedio</th>
                      <td mat-cell *matCellDef="let row" > {{row.promedio}} </td>
                    </ng-container>
                                        <!-- Color Column -->
                    <ng-container matColumnDef="fechapostulacion">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha postulación</th>
                      <td mat-cell *matCellDef="let row" > {{row.fechapostulacion}} </td>
                    </ng-container>
                                        <!-- Color Column -->
                    <ng-container matColumnDef="semestre">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Semestre</th>
                      <td mat-cell *matCellDef="let row" > {{row.semestre}} </td>
                    </ng-container>

                                        <!-- Color Column -->
                    <ng-container matColumnDef="estado_postulacion">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
                      <td mat-cell *matCellDef="let row" > {{row.estado_postulacion}} </td>
                    </ng-container>
                                                            <!-- Color Column -->
                    <ng-container matColumnDef="Acciones">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Acciones</th>
                      <td mat-cell *matCellDef="let row" > <a (click)="verPostuSel(row.consecutivo_postulacion, row.estado_postulacion, row ,templateverpostulacion)" data-title="Ver postulación"><i class="icofont-attachment iconSearchUser"></i></a> </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>

                    <!-- Row shown when there is no matching data. -->
                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="4">No hay datos que coincidan con lo digitado</td>
                    </tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]" *ngIf="$nombreusuario.rol == 4"></mat-paginator>


                  </div>
                  </div>
                </div>

              </div>
            </div>
          </div>